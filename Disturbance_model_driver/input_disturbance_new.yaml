### All inputs for Vegetation Cellular Automaton Model built on The Landlab
### can be given here.
### 14Feb2015 - Sai Nudurupati & Erkan Istanbulluoglu
### 15Jul2016 - Updated to comply with Landlab Version 1 naming conventions.
### 22May2017 - Updated for CSDMS 2017 Poster Presentation with fires
### Vegetation Cellular Automaton Model Input File:

# Simulation length
n_years: 101  # Approximate number of years for the model to run
yr_step: 20    # Year steps for plotting and recording

# Initialized with evolved vegetation - 24Feb19
pre_evolved_veg: 0   # If 1 - using pre_evolved_vegetation

input_veg_filename: 'vegtype_165_Shrub.npy'   # filename of input vegtype if above is 1


# RasterModelGrid - model domain information
nrows: 182     # Number of rows in model grid #285
ncols: 182     # Number of columns in model grid #405
dx: 5         # spacing in x direction (m)
dy: 5         # spacing in y direction (m)

# Fire model inputs
fires: 1      # Switch to indicate whether to use fires or not

gr_susc: 0.8    # susceptibility of grass to burn 

sh_susc: 0.3  # susceptibility of shrub to burn # was 0.6 then 0.5
sh_seed_susc: 0.6   # susceptibility of shrub seed to burn # was 0.7

tr_susc: 0.3   # susceptibility of tree to burn # halved for savanna
tr_seed_susc: 0.6   # susceptibility of tree seed to burn # halved for savanna

gr_vuln: 0.465     # Vulnerability for grass to start a fire # was 0.9

sh_vuln: 0.01    # Vulnerability for shrub to start a fire # was 0.5 was 0.04
sh_seed_vuln: 0.06   # Vulnerability for shrub seedling to start a fire # was 0.6

tr_vuln: 0.01    # Vulnerability for tree to start a fire  # was 0.4
tr_seed_vuln: 0.06   # Vulnerability for tree seedling to start a fire  # was 0.5

stoc_fire_extent_min: 0.9
stoc_fire_extent_max: 0.99
no_fires_per_year_min: 0  # this can be obtained from lightning flash density maps 1-3 (km-2 yr-1) need to scale with core node area
no_fires_per_year_max: 1  # give this a range



# Grazing model inputs
grazing: 1    # Switch to indicate whether to use grazing or not

gr_pressure: 0.01   # Grazing pressure


 
# Nonlocal Seeding woody plants, used with grazing
to_add_trees: 0    # Whether to add trees
tr_chck_presence: 0   # Whether to check if there are trees & tree seedlings
const_fr_trees: 0     # Whether constant fraction for addition of trees
fr_addition_trees: 0.0   # Fraction in terms of entire catchment for addition

min_tr_percent: 0.     # seeding happens at rate of min_fr_trees at min_tr_percent
max_tr_percent: 0.5    # seeding happens at rate of max_fr_trees at max_tr_percent
min_fr_trees: 0.001       # Minimum seeding fraction, P1
max_fr_trees: 0.005       # Maximum seeding fraction, P2
tr_yr_step: 1  # Year step to add trees if to_add_trees==1


to_add_shrubs: 1   # Whether to add shrubs
sh_chck_presence: 0   # whether to check if there are shrubs & shrub seedlings
const_fr_shrubs: 0     # Whether constant fraction for addition of trees
fr_addition_shrubs: 0.0  # Fraction in terms of entire catchmnt for addition

min_sh_percent: 0.      # seeding happens at rate of min_fr_shrubs at min_sh_percent
max_sh_percent: 0.5    # seeding happens at rate of max_fr_shrubs at max_sh_percent
min_fr_shrubs: 0.001       # Minimum seeding fraction
max_fr_shrubs: 0.005      # Maximum seeding fraction
sh_yr_step: 1  # Year step to add shrubs if to_add_shrubs==1


# Adding edged vegetation - 24Feb19
add_left_edge: 0    # If 1, left edge with l_edg_wdth wide cols will be added
left_pft: 2         # PFT on left to be added - here 2 - Tree (Xiaochi conv)
l_edg_wdth: 2       # Width in no. of cols to be added

add_right_edge: 0   # If 1, right edge with r_edg_wdth wide cols will be added
right_pft: 1        # PFT on right to be added - here 1 - Shrubs (Xiochi conv)
r_edg_wdth: 2       # Width in no. of cols to be added

add_bottom_edge: 0    # If 1, bottom edge with l_edg_wdth wide cols will be added
bottom_pft: 1         # PFT on botom to be added - here 1 - Shrubs (Xiaochi conv)
b_edg_wdth: 2       # Width in no. of cols to be added

add_top_edge: 0   # If 1, top edge with r_edg_wdth wide cols will be added
top_pft: 2        # PFT on top to be added - here 2 - Trees (Xiochi conv)
t_edg_wdth: 2       # Width in no. of cols to be added

## Initial Plant Functional Types (PFT) distribution
percent_bare_initial: 0.4 # Initial percentage of cells occupied by bare soil
percent_grass_initial: 0.3 # Initial percentage of cells occupied by grass
percent_shrub_initial: 0.0 # Initial percentage of cells occupied by shrubs
percent_tree_initial: 0.3 # Initial percentage of cells occupied by trees

## Precipitation:

# Dry Season
mean_storm_dry: 0.48 # Mean storm duration (hours)
mean_interstorm_dry: 159.36 # Mean interstorm duration (hours)
mean_storm_depth_dry: 3.07 # Mean storm depth (mm)

# Wet Season
mean_storm_wet: 0.46 # Mean storm duration (hours)
mean_interstorm_wet: 84.24 # Mean interstorm duration (hours)
mean_storm_depth_wet: 4.79 # Mean storm depth (mm)
doy__start_of_monsoon: 182   # Day of the year when the monsoon starts
doy__end_of_monsoon: 273 # Day of the year when the monsoon ends

## PotentialEvapotranspiration:
# Cosine Method
PET_method: Cosine
LT: 0 # Lag between peak TmaxF estimated by cosine method and solar forcing (days)
DeltaD: 7. # Calibrated difference between
ND: 365. # Number of days in the year (days)
MeanTmaxF_grass: 4.98 # Mean annual rate of TmaxF (mm/d)
MeanTmaxF_shrub: 3.78 # Mean annual rate of TmaxF (mm/d)
MeanTmaxF_tree: 5.17 # Mean annual rate of TmaxF (mm/d)

# TmaxF - Estimated maximum evapotranspiration as a function of DOY
# using Penman Monteith method for historical weather

## Soil Moisture:

runon_switch: 0   # Whether to use runon or not (0-No runon, 1-include runon)
f_bare: 0.7 # Fraction to partition PET for bare soil (None)

# Grass

VEGTYPE_grass: 0 # Integer value to infer Vegetation Type
intercept_cap_grass: 1. # Full canopy interception capacity  (mm)
zr_grass: 0.3 # Root depth (m)
I_B_grass: 20. # Infiltration capacity of bare soil (mm/h)
I_V_grass: 24. # Infiltration capacity of vegetated soil (mm/h)
K_s_grass: 42. # Hydraulic conductivity (mm/h)
pc_grass: 0.43 # Soil porosity (None)
fc_grass: 0.56 # Soil saturation degree at field capacity (None)
sc_grass: 0.33 # Soil saturation degree at stomatal closure (None)
wp_grass: 0.13 # Soil saturation degree at wilting point (None)
hgw_grass: 0.1 # Soil saturation degree at hygroscopic point (None)
beta_grass: 13.8 # Deep percolation constant = 2*b+4  where b is water retention parameter

# Shrub

VEGTYPE_shrub: 1 # Integer value to infer Vegetation Type
intercept_cap_shrub: 0. # Full canopy interception capacity  (mm)
zr_shrub: 0.6 # Root depth (m)
I_B_shrub: 20. # Infiltration capacity of bare soil (mm/h)
I_V_shrub: 40. # Infiltration capacity of vegetated soil (mm/h)
K_s_shrub: 42. # Hydraulic conductivity (mm/h)
pc_shrub: 0.43 # Soil porosity (None)
fc_shrub: 0.56 # Soil saturation degree at field capacity (None)
sc_shrub: 0.33 # Soil saturation degree at stomatal closure (None)
wp_shrub: 0.13 # Soil saturation degree at wilting point (None)
hgw_shrub: 0.1 # Soil saturation degree at hygroscopic point (None)
beta_shrub: 13.8 # Deep percolation constant = 2*b+4  where b is water retention parameter

# Tree

VEGTYPE_tree: 2 # Integer value to infer Vegetation Type
intercept_cap_tree: 0. # Full canopy interception capacity  (mm)
zr_tree: 1.3 # Root depth (m)
I_B_tree: 20. # Infiltration capacity of bare soil (mm/h)
I_V_tree: 40. # Infiltration capacity of vegetated soil (mm/h)
K_s_tree: 42. # Hydraulic conductivity (mm/h)
pc_tree: 0.43 # Soil porosity (None)
fc_tree: 0.56 # Soil saturation degree at field capacity (None)
sc_tree: 0.33 # Soil saturation degree at stomatal closure (None)
wp_tree: 0.15 # Soil saturation degree at wilting point (None)
hgw_tree: 0.1 # Soil saturation degree at hygroscopic point (None)
beta_tree: 13.8 # Deep percolation constant = 2*b+4  where b is water retention parameter

# Bare Soil

VEGTYPE_bare: 3 # Integer value to infer Vegetation Type
intercept_cap_bare: 1. # Full canopy interception capacity  (mm)
zr_bare: 0.3 # Root depth (m)
I_B_bare: 20. # Infiltration capacity of bare soil (mm/h)
I_V_bare: 20. # Infiltration capacity of vegetated soil (mm/h)
K_s_bare: 42. # Hydraulic conductivity (mm/h)
pc_bare: 0.43 # Soil porosity (None)
fc_bare: 0.56 # Soil saturation degree at field capacity (None)
sc_bare: 0.33 # Soil saturation degree at stomatal closure (None)
wp_bare: 0.13 # Soil saturation degree at wilting point (None)
hgw_bare: 0.1 # Soil saturation degree at hygroscopic point (None)
beta_bare: 13.8 # Deep percolation constant


## Vegetation Dynamics:

Blive_init: 102.
Bdead_init: 450.
PET_growth_threshold: 3.8 # PET threshold for growing season (mm/d)
PET_dormancy_threshold: 6.8  # PET threshold for dormant season (mm/d)
Tdmax: 10. # Constant for dead biomass loss adjustment (mm/d)
w: 0.55 # Conversion factor of CO2 to dry biomass (Kg DM/Kg CO2)

# Grass

WUE_grass: 0.01 # Water use efficiency KgCO2Kg-1H2O
cb_grass: 0.0047 # Specific leaf area for green/live biomass (m2 leaf g-1 DM)
cd_grass: 0.009 # Specific leaf area for dead biomass (m2 leaf g-1 DM)
ksg_grass: 0.012 # Senescence coefficient of green/live biomass (d-1)
kdd_grass: 0.013 # Decay coefficient of aboveground dead biomass (d-1)
kws_grass: 0.02 # Maximum drought induced foliage loss rate (d-1)
LAI_max_grass: 2. # Maximum leaf area index (m2/m2)
LAIR_max_grass: 2. # Reference leaf area index (m2/m2)

# Shrub

WUE_shrub: 0.0025 # Water use efficiency KgCO2Kg-1H2O
cb_shrub: 0.004 # Specific leaf area for green/live biomass (m2 leaf g-1 DM)
cd_shrub: 0.01 # Specific leaf area for dead biomass (m2 leaf g-1 DM)
ksg_shrub: 0.002 # Senescence coefficient of green/live biomass (d-1)
kdd_shrub: 0.013 # Decay coefficient of aboveground dead biomass (d-1)
kws_shrub: 0.02 # Maximum drought induced foliage loss rate (d-1)
LAI_max_shrub: 2. # Maximum leaf area index (m2/m2)
LAIR_max_shrub: 2. # Reference leaf area index (m2/m2)

# Tree

WUE_tree: 0.0045 # Water use efficiency KgCO2Kg-1H2O
cb_tree: 0.004 # Specific leaf area for green/live biomass (m2 leaf g-1 DM)
cd_tree: 0.01 # Specific leaf area for dead biomass (m2 leaf g-1 DM)
ksg_tree: 0.002 # Senescence coefficient of green/live biomass (d-1)
kdd_tree: 0.013 # Decay coefficient of aboveground dead biomass (d-1)
kws_tree: 0.01 # Maximum drought induced foliage loss rate (d-1)
LAI_max_tree: 4. # Maximum leaf area index (m2/m2)
LAIR_max_tree: 4. # Reference leaf area index (m2/m2)

# Bare

WUE_bare: 0.0001 # Water use efficiency KgCO2Kg-1H2O
cb_bare: 0.0047 # Specific leaf area for green/live biomass (m2 leaf g-1 DM)
cd_bare: 0.009 # Specific leaf area for dead biomass (m2 leaf g-1 DM)
ksg_bare: 0.012 # Senescence coefficient of green/live biomass (d-1)
kdd_bare: 0.013 # Decay coefficient of aboveground dead biomass (d-1)
kws_bare: 0.02 # Maximum drought induced foliage loss rate (d-1)
LAI_max_bare: 0.01 # Maximum leaf area index (m2/m2)
LAIR_max_bare: 0.01 # Reference leaf area index (m2/m2)


## Cellular Automaton Vegetation:

# Grass

Pemaxg: 0.35 # Maximal establishment probability  # was 0.35
ING: 2 # Parameter to define allelopathic effect on grass from cresotebush
ThetaGrass: 0.65 # Drought resistant threshold
PmbGrass: 0.005   # Background mortality probability 1/10 of normal is 0.005

# Shrub

Pemaxsh: 0.2 # Maximal establishment probability # this was 0.15 increased from 0.2
ThetaShrub: 0.8 # Drought resistant threshold  #earlier 0.75
PmbShrub: 0.006 # Background mortality probability  #loss of (1/2 is 0.006) background mortality , 
tpmaxShrub: 600 # Maximum age (yr)

# Tree

Pemaxtr: 0.25 # Maximal establishment probability
ThetaTree: 0.735 # Drought resistant threshold # was 0.735
PmbTree: 0.005 # Background mortality probability  #loss of (1/2 is 0.005) background mortality
tpmaxTree: 350 # Maximum age (yr)

# ShrubSeedling

ThetaShrubSeedling: 0.64 # Drought resistant threshold
PmbShrubSeedling: 0.015 # Background mortality probability  1/2 of background is 0.015
tpmaxShrubSeedling: 18 # Maximum age (yr)

# TreeSeedling

ThetaTreeSeedling: 0.57 # Drought resistant threshold
PmbTreeSeedling: 0.015 # Background mortality probability 1/2 of background is 0.015
tpmaxTreeSeedling: 20 # Maximum age (yr)

